cod_mun <- read_excel("Antioquia/cod_mun_ATL.xlsx",
col_types = c("skip", "skip", "text", "text"))
View(cod_mun)
names(cod_mun) <- c("COD_MUNIC", "MUNICIPIO")
cod_mun_atl <- read_excel("Atlantico/cod_mun.xlsx")
names(cod_mun_atl) <- c("COD_MUNIC", "MUNICIPIO")
## Natalidad -------------------------------------------------------------------
nac2022 <- read_csv("EV22/nac2022.csv")
nac_atl <- nac2022[nac2022$COD_DPTO == "08", "COD_MUNIC"]
# total de nacimientos
num_nac_atl <- as.data.frame(table(nac_atl)); num_nac_atl
num_nac_atl <- left_join(num_nac_atl, cod_mun_atl, by = c("COD_MUNIC"))
## Mortalidad infantil  --------------------------------------------------------
nofetal2022 <- read_csv("EV22/nofetal2022.csv")
def_atl <- nofetal2022[(nofetal2022$COD_DPTO == "08" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
# Total del muertes menor a 1 año
num_def_atl <- as.data.frame(table(def_atl)); num_def_atl
num_def_atl <- left_join(num_def_atl, cod_mun_atl, by = c("COD_MUNIC"))
tasa_def <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = Municipio.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = def/nac)
tasa_def <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC"))
View(tasa_def)
tasa_def <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = def/nac)
View(tasa_def)
## Violencia Intrafamiliar -----------------------------------------------------
vio2022 <- read_excel("violencia_intrafamiliar_12.xls", skip = 9)
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
View(tasa_def)
tasa_def_atl <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = def/nac)
## Natalidad -------------------------------------------------------------------
nac2022 <- read_csv("EV22/nac2022.csv")
nac_ant <- nac2022[nac2022$COD_DPTO == "05", "COD_MUNIC"]
View(nac_ant)
# total de nacimientos
num_nac_ant <- as.data.frame(table(nac_ant)); num_nac_ant
num_nac_ant <- left_join(num_nac_ant, cod_mun_ant, by = c("COD_MUNIC"))
cod_mun_ant <- read_excel("Antioquia/cod_mun_ATL.xlsx",
col_types = c("skip", "skip", "text", "text"))
names(cod_mun_ant) <- c("COD_MUNIC", "MUNICIPIO")
num_nac_ant <- left_join(num_nac_ant, cod_mun_ant, by = c("COD_MUNIC"))
View(num_nac_ant)
View(num_nac_ant)
# total de nacimientos
num_nac_ant <- as.data.frame(table(nac_ant)); num_nac_ant
num_nac_ant <- left_join(num_nac_ant, cod_mun_ant, by = c("COD_MUNIC"))
View(num_nac_ant)
## Mortalidad infantil  --------------------------------------------------------
nofetal2022 <- read_csv("EV22/nofetal2022.csv")
def_ant <- nofetal2022[(nofetal2022$COD_DPTO == "05" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
# Total del muertes menor a 1 año
num_def_ant <- as.data.frame(table(def_ant)); num_def_ant
View(num_def_ant)
num_def_ant <- left_join(num_def_ant, cod_mun_ant, by = c("COD_MUNIC"))
View(num_nac_ant)
View(num_def_ant)
tasa_def_ant <- left_join(num_def_ant, num_nac_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = def/nac)
View(tasa_def_ant)
## Violencia Intrafamiliar -----------------------------------------------------
vio2022 <- read_excel("violencia_intrafamiliar_12.xls", skip = 9)
table(vio2022$DEPARTAMENTO)
vio_ant <- vio2022[vio2022$DEPARTAMENTO == "ANTIOQUIA", c("MUNICIPIO", "CANTIDAD")]
num_vio_ant <- vio_ant %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD))
View(num_vio_ant)
num_vio_ant <- na.omit(num_vio_ant)
num_vio_ant <- within(num_vio_ant,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_ant <- left_join(num_vio_ant, cod_mun_ant, by = c("MUNICIPIO"))
View(num_vio_ant)
View(vio2022)
num_vio_ant <- vio_ant %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD))
View(num_def_ant)
View(num_vio_ant)
View(cod_mun_ant)
num_vio_ant <- vio_ant %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Medellín (CT)", "MEDELLIN", MUNICIPIO))
View(num_def_ant)
num_vio_ant <- vio_ant %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Medellín (CT)", "MEDELLIN", MUNICIPIO))
View(num_vio_ant)
num_vio_ant <- na.omit(num_vio_ant)
num_vio_ant <- within(num_vio_ant,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_ant <- left_join(num_vio_ant, cod_mun_ant, by = c("MUNICIPIO"))
library(readr)
library(readxl)
library(dplyr)
library(stringr)
cod_mun_atl <- read_excel("Atlantico/cod_mun.xlsx")
names(cod_mun_atl) <- c("COD_MUNIC", "MUNICIPIO")
## Natalidad -------------------------------------------------------------------
nac2022 <- read_csv("EV22/nac2022.csv")
nac_atl <- nac2022[nac2022$COD_DPTO == "08", "COD_MUNIC"]
# total de nacimientos
num_nac_atl <- as.data.frame(table(nac_atl)); num_nac_atl
num_nac_atl <- left_join(num_nac_atl, cod_mun_atl, by = c("COD_MUNIC"))
## Mortalidad infantil  --------------------------------------------------------
nofetal2022 <- read_csv("EV22/nofetal2022.csv")
def_atl <- nofetal2022[(nofetal2022$COD_DPTO == "08" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
# Total del muertes menor a 1 año
num_def_atl <- as.data.frame(table(def_atl)); num_def_atl
num_def_atl <- left_join(num_def_atl, cod_mun_atl, by = c("COD_MUNIC"))
tasa_def_atl <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = def/nac)
## Violencia Intrafamiliar -----------------------------------------------------
vio2022 <- read_excel("violencia_intrafamiliar_12.xls", skip = 9)
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
View(num_nac_ant)
View(num_nac_atl)
View(num_def_ant)
View(num_nac_ant)
View(tasa_def_ant)
View(tasa_def_atl)
tasa_def_atl <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = (def/nac)*1000)
library(readr)
library(readxl)
library(dplyr)
library(stringr)
tasa_def_atl <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = (def/nac)*1000)
library(readr)
library(readxl)
library(dplyr)
library(stringr)
tasa_def_ant <- left_join(num_def_ant, num_nac_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = (def/nac)*1000)
View(nac2022)
View(num_vio_atl)
View(num_vio_ant)
library(readr)
HOGARES <- read_csv("MEP22/HOGARES.csv")
View(HOGARES)
library(readr)
library(readxl)
library(dplyr)
library(stringr)
View(HOGARES)
H08 <- HOGARES[HOGARES$dpto == "08", c("dominio","lp")]
View(H08)
H08 <- unique(HOGARES[HOGARES$dpto == "08", c("dominio","lp")])
H08 <- unique(HOGARES[HOGARES$dpto == "08", c("clase","dominio","lp")])
H08 <- unique(HOGARES[HOGARES$dpto == "08", c("clase","dominio","lp", "li")])
H08 <- unique(HOGARES[HOGARES$dpto == "08", c("mes","clase","dominio","lp", "li")])
H08 <- unique(HOGARES[HOGARES$dpto == "08", c("mes","clase","dominio","lp")])
View(HOGARES)
#Medicion de pobreza
HOGARES <- read_csv("MEP22/HOGARES.csv")
#Nacimientos
nac2022 <- read_csv("EV22/nac2022.csv")
# Antioquia ----
H05 <- unique(HOGARES[HOGARES$dpto == "05", c("mes","clase","dominio","lp")])
cod_mun_ant <- read_excel("Antioquia/cod_mun_ATL.xlsx",
col_types = c("skip", "skip", "text", "text"))
names(cod_mun_ant) <- c("COD_MUNIC", "MUNICIPIO")
## Natalidad -------------------------------------------------------------------
nac_ant <- nac2022[nac2022$COD_DPTO == "05", "COD_MUNIC"]
# total de nacimientos
num_nac_ant <- as.data.frame(table(nac_ant)); num_nac_ant
num_nac_ant <- left_join(num_nac_ant, cod_mun_ant, by = c("COD_MUNIC"))
library(readxl)
poblacion <- read_excel("DCD-area-proypoblacion-Mun-2020-2035-ActPostCOVID-19.xlsx",
skip = 5)
View(poblacion)
View(poblacion)
pob_ant <- poblacion[poblacion$DP =="05"]
pob_ant <- poblacion[poblacion$DP =="05",]
View(pob_ant)
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022,]
View(pob_ant)
View(cod_mun_ant)
View(poblacion)
View(nac_ant)
View(nac_ant)
View(nac_ant)
View(nac2022)
names(nac2022)
names(pob_ant)
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022, -c("DPNOM", "AÑO")]
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022, -c("DPNOM", "AÑO")]
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022, -c(2,5)]
names(pob_ant)
names(pob_ant) <- c("COD_DPTO", "COD_MUNIC", "MUNICIPIO", "ÁREA GEOGRÁFICA",
"Población")
View(H05)
View(num_nac_ant)
poblacion$COD_MUNIC2 <- substr(poblacion$COD_MUNIC, 4, nchar(poblacion$COD_MUNIC))
View(poblacion)
pob_ant$COD_MUNIC2 <- substr(pob_ant$COD_MUNIC, 4, nchar(pob_ant$COD_MUNIC))
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022, -c(2,5)]
names(pob_ant) <- c("COD_DPTO", "COD_MUNIC", "MUNICIPIO", "ÁREA GEOGRÁFICA",
"Población")
pob_ant$COD_MUNIC <- substr(pob_ant$COD_MUNIC, 4, nchar(pob_ant$COD_MUNIC))
View(num_nac_ant)
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022 & poblacion$`ÁREA GEOGRÁFICA` == "Total", -c(2,5,6)]
names(pob_ant) <- c("COD_DPTO", "COD_MUNIC", "MUNICIPIO","Población")
pob_ant$COD_MUNIC <- substr(pob_ant$COD_MUNIC, 4, nchar(pob_ant$COD_MUNIC))
pob_ant <- within(pob_ant,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
tasa_nac_ant <- left_join(num_nac_ant, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, nac = Freq.x, tot = Freq.y) %>%
mutate(tasa = (nac/tot)*1000)
tasa_nac_ant <- left_join(num_nac_ant, pob_ant, by = c("COD_MUNIC"))
View(tasa_nac_ant)
View(pob_ant)
tasa_nac_ant <- num_nac_ant %>% left_join(pob_ant, by = c("COD_MUNIC"))
pob_ant <- poblacion[poblacion$DP == "05" & poblacion$AÑO == 2022 & poblacion$`ÁREA GEOGRÁFICA` == "Total", -c(2,5,6)]
names(pob_ant) <- c("COD_DPTO", "COD_MUNIC", "MUNICIPIO","Población")
pob_ant$COD_MUNIC <- substr(pob_ant$COD_MUNIC, 3, nchar(pob_ant$COD_MUNIC))
pob_ant <- within(pob_ant,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
tasa_nac_ant <- left_join(num_nac_ant, pob_ant, by = c("COD_MUNIC"))
tasa_nac_ant <- left_join(num_nac_ant, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_nat = (Freq/pop)*1000)
tasa_vio_ant <- left_join(num_vio_ant, pob_ant, by = c("COD_MUNIC"))
## Mortalidad infantil  --------------------------------------------------------
def_ant <- nofetal2022[(nofetal2022$COD_DPTO == "05" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
#Defuciones
nofetal2022 <- read_csv("EV22/nofetal2022.csv")
## Mortalidad infantil  --------------------------------------------------------
def_ant <- nofetal2022[(nofetal2022$COD_DPTO == "05" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
# Total del muertes menor a 1 año
num_def_ant <- as.data.frame(table(def_ant)); num_def_ant
num_def_ant <- left_join(num_def_ant, cod_mun_ant, by = c("COD_MUNIC"))
tasa_def_ant <- left_join(num_def_ant, num_nac_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = (def/nac)*1000)
## Violencia Intrafamiliar -----------------------------------------------------
vio2022 <- read_excel("violencia_intrafamiliar_12.xls", skip = 9)
## Violencia Intrafamiliar -----------------------------------------------------
vio_ant <- vio2022[vio2022$DEPARTAMENTO == "ANTIOQUIA", c("MUNICIPIO", "CANTIDAD")]
num_vio_ant <- vio_ant %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Medellín (CT)", "MEDELLIN", MUNICIPIO))
num_vio_ant <- na.omit(num_vio_ant)
num_vio_ant <- within(num_vio_ant,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_ant <- left_join(num_vio_ant, cod_mun_ant, by = c("MUNICIPIO"))
View(num_vio_ant)
## Violencia Intrafamiliar -----------------------------------------------------
vio_ant <- vio2022[vio2022$DEPARTAMENTO == "ANTIOQUIA", c("MUNICIPIO", "CANTIDAD")]
num_vio_ant <- vio_ant %>%
group_by(MUNICIPIO) %>%
summarise(Freq = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Medellín (CT)", "MEDELLIN", MUNICIPIO))
num_vio_ant <- na.omit(num_vio_ant)
num_vio_ant <- within(num_vio_ant,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_ant <- left_join(num_vio_ant, cod_mun_ant, by = c("MUNICIPIO"))
View(num_vio_ant)
tasa_vio_ant <- left_join(num_vio_ant, pob_ant, by = c("COD_MUNIC"))
View(tasa_vio_ant)
tasa_vio_ant <- left_join(num_vio_ant, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*1000)
tasa_vio_ant <- left_join(num_vio_ant, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*100000)
View(tasa_vio_ant)
# Atlántico ----
H08 <- unique(HOGARES[HOGARES$dpto == "08", c("mes","clase","dominio","lp")])
cod_mun_atl <- read_excel("Atlantico/cod_mun.xlsx")
names(cod_mun_atl) <- c("COD_MUNIC", "MUNICIPIO")
pob_atl <- poblacion[poblacion$DP == "08" & poblacion$AÑO == 2022 & poblacion$`ÁREA GEOGRÁFICA` == "Total", -c(2,5,6)]
names(pob_atl) <- c("COD_DPTO", "COD_MUNIC", "MUNICIPIO","Población")
pob_atl$COD_MUNIC <- substr(pob_atl$COD_MUNIC, 3, nchar(pob_atl$COD_MUNIC))
pob_atl <- within(pob_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
## Natalidad -------------------------------------------------------------------
nac_atl <- nac2022[nac2022$COD_DPTO == "08", "COD_MUNIC"]
# total de nacimientos
num_nac_atl <- as.data.frame(table(nac_atl)); num_nac_atl
num_nac_atl <- left_join(num_nac_atl, cod_mun_atl, by = c("COD_MUNIC"))
tasa_nac_atl <- left_join(num_nac_atl, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_nat = (Freq/pop)*1000)
## Mortalidad infantil  --------------------------------------------------------
nofetal2022 <- read_csv("EV22/nofetal2022.csv")
## Mortalidad infantil  --------------------------------------------------------
def_atl <- nofetal2022[(nofetal2022$COD_DPTO == "08" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
# Total del muertes menor a 1 año
num_def_atl <- as.data.frame(table(def_atl)); num_def_atl
num_def_atl <- left_join(num_def_atl, cod_mun_atl, by = c("COD_MUNIC"))
tasa_def_atl <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa = (def/nac)*1000)
## Violencia Intrafamiliar -----------------------------------------------------
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(vio = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
tasa_vio_atl <- left_join(num_vio_atl, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*100000)
## Violencia Intrafamiliar -----------------------------------------------------
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(Freq = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
tasa_vio_atl <- left_join(num_vio_atl, pob_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*100000)
View(tasa_vio_atl)
View(pob_atl)
View(tasa_def_ant)
View(tasa_def_atl)
View(tasa_nac_ant)
View(tasa_nac_atl)
View(pob_atl)
tasa_nac_atl <- left_join(num_nac_atl, pob_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_nat = (Freq/pop)*1000)
View(tasa_nac_atl)
View(tasa_vio_atl)
tasa_vio_atl <- left_join(num_vio_atl, pob_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*100000)
View(tasa_vio_atl)
View(num_vio_atl)
View(tasa_nac_atl)
## Violencia Intrafamiliar -----------------------------------------------------
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(Freq = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
View(num_vio_atl)
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
View(cod_mun_atl)
## Violencia Intrafamiliar -----------------------------------------------------
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(Freq = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
View(num_vio_atl)
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
tasa_vio_atl <- left_join(num_vio_atl, pob_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*100000)
cod_mun_atl <- read_excel("Atlantico/cod_mun.xlsx")
names(cod_mun_atl) <- c("COD_MUNIC", "MUNICIPIO")
nac_atl <- nac2022[nac2022$COD_DPTO == "08", "COD_MUNIC"]
# total de nacimientos
num_nac_atl <- as.data.frame(table(nac_atl)); num_nac_atl
num_nac_atl <- left_join(num_nac_atl, cod_mun_atl, by = c("COD_MUNIC"))
tasa_nac_atl <- left_join(num_nac_atl, pob_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_nat = (Freq/pop)*1000)
vio_atl <- vio2022[vio2022$DEPARTAMENTO == "ATLÁNTICO", c("MUNICIPIO", "CANTIDAD")]
num_vio_atl <- vio_atl %>%
group_by(MUNICIPIO) %>%
summarise(Freq = sum(CANTIDAD)) %>%
mutate(MUNICIPIO = ifelse(MUNICIPIO == "Barranquilla (CT)", "Barranquilla", MUNICIPIO))
num_vio_atl <- na.omit(num_vio_atl)
num_vio_atl <- within(num_vio_atl,{
MUNICIPIO <- str_to_upper(MUNICIPIO)
MUNICIPIO <- chartr("ÁÉÍÓÚÜ", "AEIOUU", MUNICIPIO)
})
num_vio_atl <- left_join(num_vio_atl, cod_mun_atl, by = c("MUNICIPIO"))
tasa_vio_atl <- left_join(num_vio_atl, pob_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, Freq, pop = Población) %>%
mutate(tasa_vio = (Freq/pop)*100000)
View(tasa_vio_atl)
View(cod_mun_ant)
View(cod_mun_atl)
ANT <- cod_mun_ant %>% left_join(tasa_nac_ant, by = c("COD_MUNIC", "MUNICIPIO"))
View(ANT)
View(ANT)
tasa_def_ant <- left_join(num_def_ant, num_nac_ant, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa_def = (def/nac)*1000)
ANT <- cod_mun_ant %>%
left_join(tasa_nac_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_def_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_vio_ant, by = c("COD_MUNIC", "MUNICIPIO"))
View(ANT)
ANT <- cod_mun_ant %>%
left_join(tasa_nac_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_def_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_vio_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
select(COD_MUNIC, MUNICIPIO, tasa_nac, tasa_def, tasa_vio, tot = pop.x)
View(ANT)
View(ANT)
ANT <- cod_mun_ant %>%
left_join(tasa_nac_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_def_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_vio_ant, by = c("COD_MUNIC", "MUNICIPIO")) %>%
select(COD_MUNIC, MUNICIPIO, tasa_nat, tasa_def, tasa_vio, tot = pop.x)
View(ANT)
### consolidación ----
ATL <- cod_mun_atl %>%
left_join(tasa_nac_atl, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_def_atl, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_vio_atl, by = c("COD_MUNIC", "MUNICIPIO")) %>%
select(COD_MUNIC, MUNICIPIO, tasa_nat, tasa_def, tasa_vio, tot = pop.x)
def_atl <- nofetal2022[(nofetal2022$COD_DPTO == "08" & nofetal2022$GRU_ED2 == "01"),
"COD_MUNIC"]
# Total del muertes menor a 1 año
num_def_atl <- as.data.frame(table(def_atl)); num_def_atl
num_def_atl <- left_join(num_def_atl, cod_mun_atl, by = c("COD_MUNIC"))
tasa_def_atl <- left_join(num_def_atl, num_nac_atl, by = c("COD_MUNIC")) %>%
select(COD_MUNIC, MUNICIPIO = MUNICIPIO.x, def = Freq.x, nac = Freq.y) %>%
mutate(tasa_def = (def/nac)*1000)
### consolidación ----
ATL <- cod_mun_atl %>%
left_join(tasa_nac_atl, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_def_atl, by = c("COD_MUNIC", "MUNICIPIO")) %>%
left_join(tasa_vio_atl, by = c("COD_MUNIC", "MUNICIPIO")) %>%
select(COD_MUNIC, MUNICIPIO, tasa_nat, tasa_def, tasa_vio, tot = pop.x)
View(ANT)
View(ATL)
# TOTAL ----
datos <- rbind(ANT, ATL)
# TOTAL ----
datos <- rbind(ANT, ATL); View(datos)
# TOTAL ----
datos <- rbind(ANT, ATL)
datos[is.na(datos)] <- 0; View(datos)
View(H08)
View(HOGARES)
View(datos)
View(def_ant)
View(num_def_ant)
View(num_def_atl)
View(vio2022)
View(datos)
View(H05)
